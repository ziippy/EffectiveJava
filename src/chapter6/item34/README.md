## 6장 - 열거 타입과 어노테이션

### <아이템34 > int 상수 열거 타입을 사용하라 

> **(요약)** 열거 타입은 확실히 정수 상수보다 뛰어나다. 더 읽기 쉽고 안전하고 강력하다.

열거 타입은 일정 개수의 상수 값을 정의한 다음, 그 외의 값은 허용하지 않는 타입이다.

정수 열거 타입은
- 보통, 접두어를 써서 이름 충돌을 방지한다. (ex: ELEMENT_MERCURY, PLANET_MERCURY)
- 깨지기 쉽다.
  - 컴파일하면 그 값이 클라이언트 파일에 그대로 새겨진다.
  - 상수의 값을 바꾸면, 다시 컴파일 해야 한다.
  - 다시 컴파일 하지 않아도 돌아가긴 하나, 엉뚱하게 동작할 것이다.
- 문자열로 출력하기가 다소 까다롭다.
- 모든 상수가 몇 개인지도 알 수 없다.

이러한 단점을 해결해주는 게 -> **열거 패턴** 이다.

```java
public enum Apple { FUJI, PIPPIN }
public enum Orange { NAVEL, TEMPLE }
```

코드, [Item34.java](https://github.com/ziippy/EffectiveJava/blob/master/src/chapter6/item34/Item34.java)

가장 단순한 열거 타입이다.

겉보기에는 C, C++, C# 같은 다른 언어의 열거 타입과 비슷하지만, 보이는 것이 다가 아니다.

자바의 열거 타입은 완전한 형태의 클래스라서 훨씬 강력하다.

- 자바 열거 타입 자체는 클래스이다.
- 상수 하나당 자신의 인스턴스를 하나씩 만들어 public static final 필드로 공개하는 것이다.
- 열거 타입은 밖에서 접근할 수 있는 생성자를 제공하지 않으므로, 사실상 final 이다.

여기에, 메서드나 필드를 추가하고 싶다면?  
(예를 들어, 행성에는 질량과 반지름이 있고, 이 두 속성을 이용하면 표면중력을 계산할 수 있는.. 이런 상황)

코드, [EnumTest.java](https://github.com/ziippy/EffectiveJava/blob/master/src/chapter6/item34/EnumTest.java)

- 열거 타입 상수 각각을 특정 데이터와 연결지으려면 생성자에서 데이터를 받아 인스턴스 필드에 저장하면 된다.

열거 타입은 자신 안에 정의된 상수들의 값을 배열에 담아 반환하는 정적 메서드인 **values**를 제공한다.

```java
for (Planet p : Planet.values()) {
    System.out.println(p);
}
```

필요한 원소를 컴파일타임에 다 알 수 있는 상수 집합이라면 항상 열거 타입을 사용하자.

열거 타입에 정의된 상수 개수가 영원히 고정 불변일 필요는 없다.
- 열거 타입은 나중에 상수가 추가돼도 바이너리 수준에서 호환되도록 설계되었다.
