## 8장 - 메서드

### <아이템54 > null이 아닌, 빈 컬렉션이나 배열을 반환하라

> **(요약)** null이 아닌, 빈 컬렉션이나 배열을 반환하라. null 을 반환하는 API는 사용하기 어렵고 오류 처리 코드도 늘어난다. 그렇다고 성능이 좋은 것도 아니다.

주변에서 흔히 보는 메서드에서 null 을 리턴하는 경우가 있다.

null 을 리턴한다면, 클라이언트에서는 이 null 상황을 처리하는 코드를 추가로 작성해야 한다.

때로는 빈 컨테이너를 리턴하는 데도 비용이 드니 null 을 반환하는 쪽이 낫다는 주장도 있다.

하지만 이는 두 가지 측면에서 틀린 주장이다.

- 성능 분석 결과 이 할당이 성능 저하의 주범이라고 확인되지 않는 한, 이 정도의 성능 차이는 신경 쓸 수준이 못 된다.
- 빈 컬렉션과 배열은 굳이 새로 할당하지 않고도 반환할 수 있다.
  - 컬렉션은 Collections.emptyList() 와 같이 이미 있는 걸 리턴
  - 배열은 new Cheese[0] 을 리턴
    - 이 방식이 성능을 떨어뜨릴 것 같으면 길이 0짜리 배열을 미리 만들어놓고 재사용하자

코드, [Item54.java](https://github.com/ziippy/EffectiveJava/blob/master/src/chapter8/item54/Item54.java)


