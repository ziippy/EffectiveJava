## 4장 - 클래스와 인터페이스

### <아이템17 > 변경 가능성을 최소화하라

> **(요약)** 클래스는 꼭 필요한 경우가 아니라면 불변이어야 한다.

불변 클래스란?

- 간단히 말해 그 인스턴스의 내부 값을 수정할 수 없는 클래스
- String, 기본 타입의 박싱된 클래스들, BigInteger, BigDecimal 이 여기 속함
- 가변 클래스보다 설계하고 구현하고 사용하기 쉬우며, 오류가 생길 여지도 적고 훨씬 안전함

<span style="color:skyblue">클래스를 불변으로 만들 때 따라야 하는 규칙 5가지</span>

- 객체의 상태를 변경하는 메서드(변경자)를 제공하지 않는다.
- 클래스를 확장할 수 없도록 한다.
- 모든 필드를 final 로 선언한다.
- 모든 필드를 private 로 선언한다.
- 자신 외에는 내부의 가변 컴포넌트에 접근할 수 없도록 한다.

**불변 객체는 단순하다.**

생성된 시점의 상태를 파괴될 때까지 그대로 간직한다.

<span style="color:skyblue">불변클래스를 만드는 또 다른 설계 방법</span>

자신을 상속하지 못하게 해야 한다.

- final 클래스로 선언하거나 (가장 쉬운 방법)
- 모든 생성자를 private 혹은 package-private 로 만들고 public 정적 팩터리를 제공하는 방법

<span style="color:skyblue">정리</span>

- getter 가 있다고 무조건 setter 를 만들지 말자.
- 클래스는 꼭 필요한 경우가 아니라면 불변이어야 한다.
- 불변으로 만들 수 없는 클래스라도 변경할 수 있는 부분을 최소한으로 줄이자.
- 다른 합당한 이유가 없다면 모든 필드는 private final 이어야 한다.
- 생성자는 불변식 설정이 모두 완료된, 초기화가 완벽히 끝난 상태의 객체를 생성해야 한다.

코드: [Item17.java](https://github.com/ziippy/EffectiveJava/blob/master/src/chapter4/item17/Item17.java)




